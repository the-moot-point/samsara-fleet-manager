@echo off
REM Samsara Driver Update Batch File
REM This file can be scheduled in Windows Task Scheduler

REM Set the path to your Python installation
SET PYTHON_PATH=C:\Python39\python.exe

REM Set the path to your project directory
SET PROJECT_DIR=C:\path\to\samsara-fleet-manager

REM Change to project directory
cd /d "%PROJECT_DIR%"

REM Run the driver update script
echo Starting Samsara Driver Update Process...
echo ========================================
echo Date: %date%
echo Time: %time%
echo ========================================

REM Run the main script with the daily CSV file
"%PYTHON_PATH%" main.py --csv input\driver_updates.csv

REM Check if the script ran successfully
if %ERRORLEVEL% EQU 0 (
    echo.
    echo Process completed successfully!
) else (
    echo.
    echo Process failed with error code: %ERRORLEVEL%
)

REM Optional: Keep window open for debugging
REM pause